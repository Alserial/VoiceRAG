# VoiceRAG 版本管理

本文档说明 VoiceRAG 应用的版本号系统和更新记录。

---

## 📋 版本号格式

版本号格式：`v主版本.次版本.修订版本`

- **主版本**：重大功能更新或架构变更
- **次版本**：新功能添加或重要改进
- **修订版本**：Bug 修复或小改进

---

## 🏷️ 版本历史

### v2.1.0 - 智能回答模式 (当前版本)
**发布日期**: 2025年10月

**主要更新**:
- ✅ **智能回答模式**: Agent 现在可以回答知识库外的问题
- ✅ **版本号显示**: 页面右下角显示版本号
- ✅ **用户体验提升**: 不再说"我不知道"

**技术改进**:
- 修改系统消息逻辑，支持知识库 + GPT 混合回答
- 添加版本号显示组件
- 优化回答流程

**部署标识**: 页面右下角显示 `v2.1.0`

---

### v2.0.0 - 语言修复版本
**发布日期**: 2025年10月

**主要更新**:
- ✅ **语言锁定**: 强制 Agent 始终用英语回答
- ✅ **系统消息优化**: 明确语言指令
- ✅ **多语言支持**: 前端支持多语言界面

**技术改进**:
- 修改 `app.py` 中的系统消息
- 添加语言检测配置
- 修复语言切换问题

---

### v1.0.0 - 初始版本
**发布日期**: 2025年10月

**主要功能**:
- ✅ **RAG 功能**: 基于知识库的问答
- ✅ **语音交互**: 实时语音对话
- ✅ **Azure 集成**: OpenAI + AI Search
- ✅ **文档上传**: 支持多种文档格式

---

## 🔍 如何检查版本

### 方法 1: 页面显示
- 打开应用页面
- 查看右下角版本号
- 当前应显示 `v2.1.0`

### 方法 2: 开发者工具
```javascript
// 在浏览器控制台运行
console.log('VoiceRAG Version:', document.querySelector('.version-number')?.textContent);
```

### 方法 3: 网络请求
- 打开开发者工具
- 查看网络请求
- 检查静态资源的时间戳

---

## 🚀 部署验证

### 部署成功标志
- ✅ 页面右下角显示新版本号
- ✅ 应用功能正常工作
- ✅ 语音交互正常
- ✅ 智能回答模式生效

### 部署失败标志
- ❌ 版本号未更新
- ❌ 页面显示旧版本
- ❌ 功能异常
- ❌ 控制台报错

---

## 📝 版本更新流程

### 1. 更新版本号
```typescript
// 在 App.tsx 中更新版本号
<div className="fixed bottom-2 right-2 text-xs text-gray-400 opacity-60">
    v2.1.0  // 更新这个版本号
</div>
```

### 2. 构建前端
```bash
cd app/frontend
npm run build
```

### 3. 创建部署包
```bash
cd app
tar -czf ../voicerag-v2.1.0.tar.gz .
```

### 4. 部署到 Azure
- 通过 Azure Portal 上传新包
- 创建新修订版本
- 应用更新

### 5. 验证部署
- 访问应用页面
- 检查右下角版本号
- 测试新功能

---

## 🎯 版本号命名规则

### 主版本更新 (v3.0.0)
- 重大架构变更
- 完全重写功能
- 不兼容的 API 变更

### 次版本更新 (v2.2.0)
- 新功能添加
- 重要改进
- 向后兼容

### 修订版本更新 (v2.1.1)
- Bug 修复
- 小改进
- 性能优化

---

## 📊 版本对比表

| 版本 | 发布日期 | 主要功能 | 部署状态 |
|------|----------|----------|----------|
| v2.1.0 | 2025-10 | 智能回答模式 | ✅ 当前版本 |
| v2.0.0 | 2025-10 | 语言修复 | ✅ 已部署 |
| v1.0.0 | 2025-10 | 初始版本 | ✅ 已部署 |

---

## 🔧 版本管理最佳实践

### 开发阶段
- ✅ 每次重要更新都更新版本号
- ✅ 在代码注释中说明版本变更
- ✅ 测试新版本功能

### 部署阶段
- ✅ 确认版本号正确
- ✅ 验证部署成功
- ✅ 记录部署时间

### 维护阶段
- ✅ 监控版本运行状态
- ✅ 收集用户反馈
- ✅ 准备下个版本

---

## 💡 版本号显示说明

### 位置
- 页面右下角固定位置
- 小字体，不干扰用户体验
- 半透明显示

### 样式
```css
.fixed.bottom-2.right-2.text-xs.text-gray-400.opacity-60
```

### 更新
- 每次部署前更新版本号
- 确保版本号唯一性
- 记录版本变更原因

---

## 🎉 总结

版本号系统帮助您：

- ✅ **确认部署**: 通过版本号确认更新是否成功
- ✅ **追踪变更**: 了解每个版本的功能改进
- ✅ **问题定位**: 快速识别问题版本
- ✅ **用户沟通**: 向用户说明版本更新

现在您可以通过页面右下角的版本号轻松确认部署状态！🎯

---

**最后更新**: 2025年10月  
**当前版本**: v2.1.0  
**维护者**: VoiceRAG 团队







